# Compose / Postgres
POSTGRES_IMAGE=postgres:16-alpine@sha256:replace-with-postgres-image-digest
PROMETHEUS_IMAGE=prom/prometheus:v2.54.1@sha256:replace-with-prometheus-image-digest
POSTGRES_DB=agent_hub
POSTGRES_USER=agent_hub
POSTGRES_PASSWORD=replace-with-strong-db-password
AGENT_HUB_PORT=8000
AGENT_HUB_BIND_HOST=127.0.0.1
PROMETHEUS_PORT=9090

# App runtime
# Pin this to an immutable GHCR digest produced by .github/workflows/image.yml.
AGENT_HUB_IMAGE=ghcr.io/your-org/vibe_hub@sha256:replace-with-release-image-digest
# Production image architecture. Keep linux/amd64 for amd64-only tags; set linux/arm64 if you publish arm64 images.
AGENT_HUB_IMAGE_PLATFORM=linux/amd64
# Signed image verification (cosign keyless). Set this to your exact owner/repo.
AGENT_HUB_COSIGN_CERTIFICATE_IDENTITY_REGEX='^https://github[.]com/your-org/vibe_hub/[.]github/workflows/image[.]yml@refs/(heads/main|tags/v.*)$'
AGENT_HUB_COSIGN_CERTIFICATE_OIDC_ISSUER=https://token.actions.githubusercontent.com
AGENT_HUB_APP_ENV=production
AGENT_HUB_LOG_LEVEL=INFO
# Keep this URL in sync with POSTGRES_* values. URL-encode password if needed.
AGENT_HUB_DATABASE_URL=postgresql+psycopg://agent_hub:replace-with-url-encoded-db-password@postgres:5432/agent_hub
AGENT_HUB_PROVIDER=rule_based
AGENT_HUB_PROVIDER_FALLBACK=1
AGENT_HUB_WORKSPACES=/app/.agent_workspaces
# Optional local-only helper for /ui prefill endpoint (returns API key/token hints from env).
AGENT_HUB_UI_ENV_PREFILL_ENABLED=0

# Security (required in production)
AGENT_HUB_REQUIRE_API_KEY=1
AGENT_HUB_API_KEYS=replace-with-long-random-api-key
AGENT_HUB_AUTH_REQUIRE_ROLES=1
AGENT_HUB_AUTH_REQUIRE_READS=1
AGENT_HUB_JWT_SECRET=replace-with-strong-32-plus-char-jwt-secret
AGENT_HUB_JWT_TTL_SECONDS=3600
AGENT_HUB_GITHUB_WEBHOOK_SECRET=replace-with-github-webhook-secret
AGENT_HUB_GITHUB_WEBHOOK_MAX_PAYLOAD_BYTES=1000000
AGENT_HUB_METRICS_REQUIRE_TOKEN=1
AGENT_HUB_METRICS_BEARER_TOKEN=replace-with-long-prometheus-bearer-token

# Hardened defaults
AGENT_HUB_ALLOW_LOCAL_REPO_PATHS=0
AGENT_HUB_ALLOWED_LOCAL_REPO_ROOT=
AGENT_HUB_RATE_LIMIT_ENABLED=1
AGENT_HUB_RATE_LIMIT_REQUESTS_PER_MINUTE=120
AGENT_HUB_RATE_LIMIT_TRUST_PROXY_HEADERS=0
AGENT_HUB_TRUSTED_PROXY_IPS=
AGENT_HUB_JOB_WORKER_ENABLED=1
AGENT_HUB_JOB_STALE_TIMEOUT_SEC=900
AGENT_HUB_REQUIRE_TEST_CMD=1

# Optional integrations
AGENT_HUB_GITHUB_WEBHOOK_AUTO_ENQUEUE=0
GITHUB_TOKEN=
GITHUB_API_BASE_URL=https://api.github.com
GITLAB_TOKEN=
GITLAB_API_BASE_URL=https://gitlab.com/api/v4
